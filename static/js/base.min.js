!function(a,b){var c=($(a),$(document)),d=function(){},e=a.WS||(a.WS={}),f={},g=e.base||(e.base={});g.dates={cn:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"今天"}},f["public"]=function(){if($("[data-rel=tooltip]").size()&&$("[data-rel=tooltip]").tooltip(),$(".J_date-pick").size()&&$(".J_date-pick").datetimepicker({format:"YYYY-MM-DD HH:mm",language:"en",pickDate:!0,pickTime:!0,hourStep:1,minuteStep:15,secondStep:30,inputMask:!0}),c.on("change",".J_select",function(){var a=$(this),b=a.val(),c=a.find("option:selected").text(),d=a.parent().siblings().find(".search-query");d.attr("name",b).val("").attr("placeholder","请输入"+c)}).on("click",".J_subBtn",function(){var a=$(".J_search_btn"),b=$(this).siblings(".J_search_text");return b.val($(this).attr("data-status")),a.parents("form").submit(),!1}).on("click",".J_pagination li a,.J_jump",function(){var a=$(this),b=a.parent(),c=b.hasClass("disabled")||b.hasClass("active")||a.hasClass("J_jump"),d=a.parents("form"),e=1*$(".J_pgmax").text(),f=$(".J_jupnb");if(c){if(a.hasClass("J_jump")){var g=f.val();if(""==g)return!1;""!=g?f[0].setCustomValidity(isNaN(g)?"请输入正确页码":""):g>e?g=e:1>g?1:!1}}else f.val(a.attr("pageNo")),d.submit()}).on("input",".J_input",function(){var a=$(this),b=a.val().length,c=a.parent("div").next("div.help-block").find("span"),d=a.attr("maxlength");return b>d?!1:void c.text(d-b)}),$(".J_input_verify").size()){for(var a=$(".J_input_verify"),b=a.size(),d=0;b>d;d++)""==a.eq(d).val()&&a[d].setCustomValidity("请输入"+a.eq(d).attr("data-info"));a.each(function(){var a=$(this);a.on("change",function(){g.verify(this,"")})})}},g.verify=function(a,b){a.setCustomValidity(""==a.value?"请输入"+$(a).attr("data-info"):a.validity.patternMismatch===!0?"请输入"+$(a).attr("data-rex"):b)},g.setprompt=function(a,b){g.setCookie("prompt",a),g.setCookie("promptStatus",b)},g.ajaxgo=function(a,b,c,e,f,g){b=b||d,"javascript:;"==a?b(c):$[f||"post"](a,e,b,g||"json")},g.setCookie=function(a,c,d){var e=new Date;c===b&&(d=-1),d&&e.setTime(e.getTime()+24*d*60*60*1e3),document.cookie=a+"="+encodeURIComponent(c)+";"+(d?"expires="+e.toGMTString():"")},g.getCookie=function(a,b){for(var c=document.cookie.split("; "),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return decodeURIComponent(e[b||1])}return""},g.prompt=function(a,b){var c=$('<div class="prompt '+(b||"warning")+'">'+a+"</div>").appendTo("body");c.fadeIn(function(){setTimeout(function(){c.fadeOut(function(){c.remove()})},2e3)})},g.operationalData=function(a,b,c){var d=a.attr("data-ajax"),c=c||"操作成功！";g.confirm(b,function(){g.actionDate(d,c,function(){location.reload()})})},g.confirm=function(a,b){bootbox.confirm({message:a,buttons:{confirm:{label:"确定",className:"btn-primary btn-sm"},cancel:{label:"取消",className:"btn-sm"}},closeButton:!1,callback:function(a){a&&b()}})},f.promptCheck=function(){var a=g.getCookie("prompt"),b=g.getCookie("promptStatus");return a?(g.prompt(a,b),void g.setprompt()):!1},g.nestable=function(a,b,c){a.size()&&a.nestable({maxDepth:b,dragStop:c||d}).find(".dd-handle a").on("mousedown",function(a){a.stopPropagation()})},f.P132_event=function(){if(c.on("click",".J_operation",function(){g.operationalData($(this),"确定处理这笔异常单吗？")}).on("submit",".J_login_form",function(){$("input[type=checkbox]")[0].checked&&g.setCookie("userName",$("input[data-type=loginid]").val(),30)}).on("click",".J_delete",function(){g.operationalData($(this),"确定删除这条接入信息吗？")}),$(".J_login_input").size()&&$(".J_login_input").each(function(){$(this).on("input",function(){g.verify(this,g.Login(this))})}),$("input[data-type=loginid]").size()&&$("input[data-type=loginid]").val(g.getCookie("userName",0)),$(".J_input_ct").size()){for(var a=$(".J_input_ct"),b=a.size(),d=0;b>d;d++)""==a.eq(d).val()&&a[d].setCustomValidity("联系电话和联系邮箱至少有一项必填");a.each(function(){var b=$(this);b.on("change",function(){""==a.eq(0).val()&&""==a.eq(1).val()?(a[0].setCustomValidity("联系电话和联系邮箱至少有一项必填"),a[1].setCustomValidity("联系电话和联系邮箱至少有一项必填")):this.validity.patternMismatch===!0?(a.removeAttr("required"),b.attr("required","required"),a[0].setCustomValidity(""),a[1].setCustomValidity(""),this.setCustomValidity("请输入"+b.attr("data-info"))):(a[0].setCustomValidity(""),a[1].setCustomValidity(""),a.removeAttr("required"))})})}},$.extend(g,$.loader(f))}(window);